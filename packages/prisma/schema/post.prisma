model Post {
  id          String  @id @default(cuid())
  name        String
  description String?
  imgUrl      String  @default("")

  creator   User   @relation(fields: [creatorId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  creatorId String

  subject   Subject @relation(fields: [subjectId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  subjectId Int

  postContents   PostContent[]
  ratings        Rating[]
  comments       Comment[]
  bookmarks      Bookmark[]
  contentReports ContentReport[]
}

model PostContent {
  post   Post   @relation(fields: [postId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  postId String @unique

  file   File   @relation(fields: [fileId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  fileId String @unique

  @@id([postId, fileId])
}

model File {
  id        String   @id @default(cuid())
  name      String
  url       String   @unique
  type      String
  size      Int
  createdAt DateTime @default(now())

  postContents PostContent[]
}
