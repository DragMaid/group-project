model User {
  id        String   @id @map("linked_account")
  name      String   @unique
  avatarUrl String   @default("")
  createdAt DateTime @default(now())

  followers Follow[] @relation("FollowerRelation")
  followed  Follow[] @relation("FollowedRelation")

  posts          Post[]
  ratings        Rating[]
  comments       Comment[]
  bookmarks      Bookmark[]
  contentReports ContentReport[]
  notifications  Notification[]
}

model Follow {
  follower   User   @relation("FollowerRelation", fields: [followerId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  followerId String

  following   User   @relation("FollowedRelation", fields: [followingId], references: [id], onUpdate: Cascade, onDelete: Cascade)
  followingId String

  createdAt DateTime @default(now())

  @@id([followerId, followingId])
}
